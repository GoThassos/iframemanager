/*!
 * iframemanager v1.0
 * Author Orest Bida
 * Released under the MIT License
 */
!function(){'use strict';var n={},i=[],t=[],e=!1,o='',r=null,c=[],a=document;function f(i,t){var e=n[i];if('IntersectionObserver'in window){var o=new IntersectionObserver((function(n){n.forEach((function(n){n.isIntersecting&&(u(t,e[n.target.dataset.index]),o.unobserve(n.target))}))}));e.forEach((function(n){o.observe(n.i)}))}else for(var r=0;r<e.length;r++)u(t,e[r])}function u(n,i){if('string'==typeof i.t)i.o&&h(i.t),''!==i.t&&e(i.t);else if('function'==typeof n)n(i.u,(function(n){p(n),i.o&&h(n),e(n)}));else if('string'==typeof n){var t=n.replace('{data-id}',i.u);p(t),i.o&&h(t),e(t)}function e(n){i.v.style.backgroundImage='url(\''+n+'\')';var t=new Image;t.onload=function(){i.v.classList.add('loaded')},t.src=n}}function v(n,i){if(!n.l)if(n.l=!0,'function'!=typeof i.onAccept){n.p=m('iframe');var t=n.h||i.iframe&&i.iframe.params,e=(i.embedUrl||'').replace('{data-id}',n.u);n.p.loading='lazy',n.m&&(n.p.title=n.m),i.iframe&&i.iframe.allow&&(n.p.allow=i.iframe.allow),t&&('ap:'===t.substring(0,3)?e+=t.substring(3):e+='?'+t),n.p.src=e;var o=i.iframe;n.p.onload=function(){n.i.classList.add('c-h-b'),n.p.onload=void 0,o&&'function'==typeof o.onload&&o.onload(n.u,n.p)},g(n.i,n.p)}else i.onAccept(n.i,(function(i){n.p=i,n.l=!0,n.i.classList.add('c-h-b')}))}function s(n){n.i.classList.add('c-h-n'),n.g=!1}var l=function(n){n.i.classList.remove('c-h-n','c-h-b'),n.g=!0},d=function(n){return(n=a.cookie.match('(^|;)\\s*'+n+'\\s*=\\s*([^;]+)'))?n.pop():''},b=function(n){return Object.keys(n)},p=function(n){var t=n.split('://'),e=t[0];if('http'===e||'https'===e){var o=t[1]&&t[1].split('/')[0]||!1;if(o&&o!==location.hostname&&-1===i.indexOf(o)){var r=m('link');r.rel='preconnect',r.href=e+'://'+o,g(a.head,r),i.push(o)}}};function h(n){if(n&&-1===t.indexOf(n)){var i=m('link');i.rel='preload',i.as='image',i.href=n,g(a.head,i),t.push(n)}}function m(n){return a.createElement(n)}function w(n,i){n.className=i}function g(n,i){n.appendChild(i)}var _=function(i,t,e){for(var r=n[i],c=r.length,f=0;f<c;f++)!function(n){var c=r[n];if(!c._){var f=t.languages[o].loadBtn,u=t.languages[o].notice,l=t.languages[o].loadAllBtn,d=a.createDocumentFragment(),b=m('div'),p=m('span'),h=m('p'),_=m('button'),y=m('button'),I=m('span'),k=m('div'),S=m('div'),T=m('div'),x=m('div'),D=m('div');_.type=y.type='button',w(I,'cc-text'),w(T,'c-bg-i'),c.v=T,w(S,'c-ld'),'string'==typeof c.t&&''===c.t||w(k,'c-bg');var L=c.m,P=a.createDocumentFragment();if(L){var j=m('span');w(j,'c-tl'),j.insertAdjacentHTML('beforeend',L),g(P,j)}function M(){s(c),v(c,t)}_.textContent=f,y.textContent=l,g(I,P),b&&I.insertAdjacentHTML('beforeend',u||''),g(p,I),w(x,'c-t-cn'),w(p,'c-n-t'),w(h,'c-n-c'),w(b,'c-nt'),w(D,'c-n-a'),w(_,'c-l-b'),w(y,'c-la-b'),g(D,_),g(D,y),g(x,p),g(x,D),g(h,x),g(b,h),_.addEventListener('click',(function(){M()})),y.addEventListener('click',(function(){M(),O.acceptService(i)})),g(k,T),g(d,b),(t.thumbnailUrl||c.t)&&g(d,k),g(d,S),e&&c.i.classList.add('c-h-n'),g(c.i,d),c._=!0}}(f)},y=function(i,t){var o,r=n[i];if('IntersectionObserver'in window){var c=new IntersectionObserver((function(n){if(e)c.disconnect();else for(var i=0;i<n.length;++i)n[i].isIntersecting&&function(i){setTimeout((function(){var e=n[i].target.dataset.index;v(r[e],t),s(r[e])}),50*i),c.unobserve(n[i].target)}(i)}));r.forEach((function(n){n.l||c.observe(n.i)}))}else for(var a=0;a<r.length;a++)o=a,v(r[a],t),s(r[o])},I=function(n,i){return i.hasOwnProperty(n)?n:b(i).length>0?i.hasOwnProperty(o)?o:b(i)[0]:void 0},O={acceptService:function(n){if(e=!1,'all'===n)for(var i=c.length,t=0;t<i;t++)o(n=c[t],r[n]);else c.indexOf(n)>-1&&o(n,r[n]);function o(n,i){d(i.cookie.name)||function(n){var i=new Date,t=n.path||'/',e=n.expiration||182,o=n.sameSite||'Lax',r=n.domain||location.hostname;i.setTime(i.getTime()+24*e*60*60*1e3);var c=' expires='+i.toUTCString(),f=n.name+'=1;'+c+'; Path='+t+';';f+=' SameSite='+o+';',r.indexOf('.')>-1&&(f+=' Domain='+r+';'),'https:'===location.protocol&&(f+=' Secure;'),a.cookie=f}(i.cookie),y(n,i)}},rejectService:function(i){if('all'===i){e=!0;for(var t=c.length,o=0;o<t;o++)f(i=c[o],r[i])}else c.indexOf(i)>-1&&f(i,r[i]);function f(i,t){var e,o,r;d(t.cookie.name)&&(o=(e=t.cookie).path||'/',r=e.domain||location.hostname,a.cookie=e.name+'=; Path='+o+'; Domain='+r+'; Expires=Thu, 01 Jan 1970 00:00:01 GMT;'),function(i,t){for(var e,o,r=n[i],c=r.length,a=0;a<c;a++)e=a,o=void 0,r[a].l&&('function'==typeof t.onReject?(t.onReject(r[a].p),r[a].l=!1):((o=r[a]).p.parentNode.removeChild(o.p),o.l=!1)),l(r[e])}(i,t)}},observe:function(n,i){var t=new MutationObserver((function(e){e.forEach((function(e){if('childList'===e.type)return setTimeout((function(){i(n.querySelector('iframe'))}),300),void t.disconnect()}))}));n.querySelector('iframe')?setTimeout((function(){i(n.querySelector('iframe'))}),300):t.observe(n,{attributes:!1,childList:!0,subtree:!1})},run:function(i){r=i.services;var t=(c=b(r)).length;if(0!==t){o=i.currLang;var e,u,v=r[c[0]].languages;!0===i.autoLang?o=I(navigator.language.slice(0,2).toLowerCase(),v):'string'==typeof i.currLang&&(o=I(i.currLang,v));for(var s=0;s<t;s++){var l=c[s];n[l]=[];var p=a.querySelectorAll('div[data-service="'+l+'"]'),h=p.length;if(0!==h){for(var m=0;m<h;m++)p[m].dataset.index=m,n[l].push({u:(u=(e=p[m]).dataset).id,m:u.title,t:u.thumbnail,h:u.params,o:'thumbnailpreload'in u,I:'autoscale'in u,i:e,v:null,l:!1,_:!1,g:!0});var w=r[l],g=w.cookie.name;d(g)?(_(l,w,!0),y(l,w)):_(l,w,!1),f(l,w.thumbnailUrl)}}}}},k='iframemanager';window[k]=function(){return window[k]=void 0,O}}();