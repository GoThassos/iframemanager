/*!
 * iframemanager v1.1.0
 * Author Orest Bida
 * Released under the MIT License
 */
(()=>{'use strict';let t={},n=[],o=[],e=!1,c='',i={},s=[],r={};const a=['onload','onerror','src'],f=t=>'function'==typeof t,l=t=>'string'==typeof t,d=t=>t&&Object.keys(t)||[],u=t=>{const n=t.dataset,o={},e='data-iframe-',c=t.getAttributeNames().filter((t=>t.slice(0,12)===e)).map((t=>t.slice(12)));for(const n of c)o[n]=t.getAttribute(e+n);return{t:n.id,o:n.title,i:n.thumbnail,l:n.params,u:'thumbnailpreload'in n,h:'autoscale'in n,m:t,p:null,v:!1,$:!1,_:!0,g:o}},b=(n,o)=>{const e=t[n];if('IntersectionObserver'in window){const t=new IntersectionObserver((n=>{n.forEach((n=>{n.isIntersecting&&(h(o,e[n.target.dataset.index]),t.unobserve(n.target))}))}));for(const n of e)t.observe(n.m)}},h=(t,n)=>{const o=t=>{n.p.style.backgroundImage=`url('${t}')`;const o=new Image;o.onload=function(){n.p.classList.add('loaded')},o.src=t};if(l(n.i))n.u&&g(n.i),''!==n.i&&o(n.i);else if(f(t))t(n.t,(t=>{_(t),n.u&&g(t),o(t)}));else if(l(t)){const e=t.replace('{data-id}',n.t);_(e),n.u&&g(e),o(e)}},m=(t,n)=>{if(t.v)return;if(t.v=!0,f(n.onAccept))return void n.onAccept(t.m,(n=>{t.k=n,t.v=!0,t.m.classList.add('c-h-b')}));t.k=k('iframe');const o=t.l||n.iframe&&n.iframe.params;let e=(n.embedUrl||'').replace('{data-id}',t.t);t.o&&(t.k.title=t.o),o&&('ap:'===o.substring(0,3)?e+=o.substring(3):e+='?'+o);const c=n.iframe;t.k.onload=function(){t.m.classList.add('c-h-b'),t.k.onload=void 0,c&&f(c.onload)&&c.onload(t.t,t.k)};for(const n in c)p(t.k,n,c[n]);for(const n in t.g)p(t.k,n,t.g[n]);t.k.src=e,x(t.m,t.k)},p=(t,n,o)=>{a.includes(n)||t.setAttribute(n,o)},v=t=>{t.m.classList.add('c-h-n'),t._=!1},w=t=>{t.m.classList.remove('c-h-n','c-h-b'),t._=!0},$=t=>(t=r.cookie.match(`(^|;)\\s*${t}\\s*=\\s*([^;]+)`))?t.pop():'',_=t=>{const o=t.split('://'),e=o[0];if('http'===e||'https'===e){const t=o[1]&&o[1].split('/')[0];if(t&&t!==location.hostname&&-1===n.indexOf(t)){const o=k('link');o.rel='preconnect',o.href=`${e}://${t}`,x(r.head,o),n.push(t)}}},g=t=>{if(t&&-1===o.indexOf(t)){const n=k('link');n.rel='preload',n.as='image',n.href=t,x(r.head,n),o.push(t)}},k=t=>r.createElement(t),I=()=>k('div'),O=()=>{const t=k('button');return t.type='button',t},S=(t,n)=>t.className=n,x=(t,n)=>t.appendChild(n),D=(n,o,e)=>{const i=t[n],s=o.languages;i.forEach((t=>{if(!t.$){const i=s[c].loadBtn,a=s[c].notice,f=s[c].loadAllBtn,d=r.createDocumentFragment(),u=I(),b=I(),h=I(),p=I(),w=()=>{v(t),m(t,o)};if(i){const t=O();t.textContent=i,S(t,'c-l-b'),t.addEventListener('click',w),x(p,t)}if(f){const t=O();t.textContent=f,S(t,'c-la-b'),t.addEventListener('click',(()=>{w(),E.acceptService(n)})),x(p,t)}const $=I(),_=I(),g=I(),D=I(),y=I();S($,'cc-text'),S(D,'c-bg-i'),t.p=D,S(g,'c-ld'),l(t.i)&&''===t.i||S(_,'c-bg');const P=t.o,T=r.createDocumentFragment();if(P){const t=k('span');S(t,'c-tl'),t.insertAdjacentHTML('beforeend',P),x(T,t)}x($,T),u&&$.insertAdjacentHTML('beforeend',a||''),x(b,$),S(y,'c-t-cn'),S(b,'c-n-t'),S(h,'c-n-c'),S(u,'c-nt'),S(p,'c-n-a'),x(y,b),x(y,p),x(h,y),x(u,h),x(_,D),x(d,u),(o.thumbnailUrl||t.i)&&x(d,_),x(d,g),e&&t.m.classList.add('c-h-n'),x(t.m,d),t.$=!0}}))},y=(n,o)=>{const c=t[n];if('IntersectionObserver'in window){const t=new IntersectionObserver((n=>{if(e)t.disconnect();else for(let e=0;e<n.length;++e)n[e].isIntersecting&&(e=>{const i=n[e].target;setTimeout((()=>{const t=i.dataset.index;m(c[t],o),v(c[t])}),50*e),t.unobserve(i)})(e)}));c.forEach((n=>{n.v||t.observe(n.m)}))}},P=(t,n)=>t in n?t:d(n).length>0?c in n?c:d(n)[0]:void 0,T=(t,n)=>{const{cookie:o}=n;$(o.name)||(t=>{const{hostname:n,protocol:o}=location,e=t.name,c=new Date,i=t.path||'/',s=864e5*(t.expiration||182),a=t.sameSite||'Lax',f=t.domain||n;c.setTime(c.getTime()+s);let l=e+'=1'+(0!==s?`; Expires=${c.toUTCString()}`:'')+`; Path=${i}`+`; SameSite=${a}`;f.indexOf('.')>-1&&(l+=`; Domain=${f}`),'https:'===o&&(l+='; Secure'),r.cookie=l})(o),y(t,n)},j=(n,o)=>{const{cookie:e}=o;$(e.name)&&(t=>{const n=t.name,o=t.path||'/',e=t.domain||location.hostname;r.cookie=`${n}=; Path=${o}; Domain=${e}; Expires=Thu, 01 Jan 1970 00:00:01 GMT;`})(e),((n,o)=>{const e=t[n];for(let t=0;t<e.length;t++)(t=>{var n;e[t].v&&(f(o.onReject)?(o.onReject(e[t].k),e[t].v=!1):((n=e[t]).k.parentNode.removeChild(n.k),n.v=!1)),w(e[t])})(t)})(n,o)},E={acceptService:t=>{if(e=!1,'all'===t)for(const t of s)T(t,i[t]);else s.includes(t)&&T(t,i[t])},rejectService:t=>{if('all'===t){e=!0;for(const t of s)j(t,i[t])}else s.includes(t)&&j(t,i[t])},run:n=>{if(r=document,i=n.services,s=d(i),0===s.length)return;c=n.currLang;const o=i[s[0]].languages;!0===n.autoLang?c=P(navigator.language.slice(0,2).toLowerCase(),o):l(n.currLang)&&(c=P(n.currLang,o));for(const n of s){t[n]=[];const o=r.querySelectorAll(`div[data-service="${n}"]`),e=o.length;if(0===e)continue;for(let c=0;c<e;c++)o[c].dataset.index=c,t[n].push(u(o[c]));const c=i[n],{cookie:s}=c;!s&&(c.cookie={});const a=c.cookie,f=a.name||`im_${n}`;a.name=f,$(f)?(D(n,c,!0),y(n,c)):D(n,c,!1),b(n,c.thumbnailUrl)}}},N='iframemanager';'undefined'==typeof window||f(window[N])||(window[N]=()=>E)})();